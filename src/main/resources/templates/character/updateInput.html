<html xmlns:th="http://www.thmeleaf.org">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.6/semantic.min.css"
	integrity="sha256-iK7AZM7Xa42iuURdMdo1sp38ld/JJ3fDtS0523GKqdk="
	crossorigin="anonymous" />

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<style type="text/css">
.ui.container {
	margin-top: 4em;
}

.skillText {
	width: 40px;
	padding: 5px 5px !important;
}
.abilityText {
    width: 80px;
    padding: 5px 5px !important;
}
</style>
<head>
<title>Home</title>
</head>
<body>
	<!-- 上部ナビゲーションメニュー -->
	<div th:include="common/header :: header('キャラクター更新画面')"></div>

	<div class="ui container">
		<div class="ui main text container">
			<P>キャラクター更新画面です</P>
		</div>
		<form th:object="${character}"
			th:action="@{/character/update/confirm}">
			<h2 class="ui dividing header">基礎ステータス</h2>
			<div class="ui two column doubling stackable grid container">
				<div class="column">
					<img src="https://placehold.jp/150x150.png" />
				</div>
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>キャラクターID</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{id}" /></td>
						</tr>
						<tr>
							<td>名前</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{name}" /></td>
						</tr>
						<tr>
							<td>学校・学位</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{school}" /></td>
						</tr>
						<tr>
							<td>出身</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{comeFrom}" /></td>
						</tr>
						<tr>
							<td>精神的な障害</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{mentalDisorder}" /></td>
						</tr>
						<tr>
							<td>性別</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{sex}" /></td>
						</tr>
						<tr>
							<td>年齢</td>
							<td class="ui input"><input class="ui input" type="text"
								th:field="*{age}" /></td>
						</tr>
					</table>
				</div>
			</div>

			<h2 class="ui dividing header">能力値および能力ロール
				<div class="ui icon button" id="abilityRamdom">
					<i class="random icon"></i>
				</div>
			</h2>
			<table class="ui celled table">
				<tr>
					<td>筋力(STR)</td>
					<td class="ui input"><input id="str" class="abilityText" type="text"
						th:field="*{str}" placeholder="3D6" />
					</td>
					<td>敏捷性(DEX)</td>
					<td class="ui input"><input id="dex" class="abilityText" type="text"
						th:field="*{dex}" placeholder="3D6" /></td>
					<td>知性(INT)</td>
					<td class="ui input"><input id="int" class="abilityText" type="text"
						th:field="*{intelligence}" placeholder="2D6＋6" /></td>
					<td>アイデア</td>
					<td><p id="idea">INT*5</p></td>
				</tr>
				<tr>
					<td>体力(CON)</td>
					<td class="ui input"><input id="con" class="abilityText" type="text"
						th:field="*{con}" placeholder="3D6" /></td>
					<td>外見(APP)</td>
					<td class="ui input"><input id="app" class="abilityText" type="text"
						th:field="*{app}" placeholder="3D6" /></td>
					<td>精神力(POW)</td>
					<td class="ui input"><input id="pow" class="abilityText" type="text"
						th:field="*{pow}" placeholder="3D6" /></td>
					<td>幸運</td>
					<td><p id="fortune">POW*5</p></td>
				</tr>
				<tr>
					<td>体格(SIZ)</td>
					<td class="ui input"><input id="siz" class="abilityText" type="text"
						th:field="*{siz}" placeholder="2D6＋6" /></td>
					<td>正気度(SAN)</td>
					<td><p id="san">POW×5 *</p></td>
					<td>精神力(EDU)</td>
					<td class="ui input"><input id="edu" class="abilityText" type="text"
						th:field="*{edu}" placeholder="3D6+3" /></td>
					<td>知識</td>
					<td><p id="knowledge">EDU*5</p></td>
				</tr>
			</table>

			<h2 class="ui dividing header">ステータス</h2>
			<table class="ui celled table">
				<tr>
					<td>正気度</td>
					<td><p id="sanity"></p></td>
				</tr>
				<tr>
					<td>耐久力</td>
					<td><p id="durability"></p></td>
				</tr>
				<tr>
					<td>マジックポイント</td>
					<td><p id="mp"></p></td>
				</tr>
				<tr>
					<td>ダメージボーナス</td>
					<td><p id="damageBonus"></p></td>
				</tr>
			</table>


			<h2 class="ui dividing header">探索者の技能</h2>
			<div class="ui five column doubling stackable grid container">
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>言いくるめ</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{dictionary}" /></td>
						</tr>
						<tr>
							<td>医学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{medicine}" /></td>
						</tr>
						<tr>
							<td>運転（自動車）</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{driveCarriage}" /></td>
						</tr>
						<tr>
							<td>応急手当</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firstAid}" /></td>
						</tr>
						<tr>
							<td>オカルト</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{occult}" /></td>
						</tr>
						<tr>
							<td>回避</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{dodge}" /></td>
						</tr>
						<tr>
							<td>化学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{chemistry}" /></td>
						</tr>
						<tr>
							<td>鍵開け</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{locksmith}" /></td>
						</tr>
						<tr>
							<td>隠す</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{conceal}" /></td>
						</tr>
						<tr>
							<td>隠れる</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{hide}" /></td>
						</tr>
						<tr>
							<td>機械修理</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{mechanicalRepair}" /></td>
						</tr>
						<tr>
							<td>聞き耳</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{listen}" /></td>
						</tr>
						<tr>
							<td>クトゥルフ神話</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{cthulhuMythos}" id="cthulhuMythos"/></td>
						</tr>
						<tr>
							<td>芸術</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{art}" /></td>
						</tr>
						<tr>
							<td>経理</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{accounting}" /></td>
						</tr>
					</table>
				</div>
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>考古学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{archaeology}" /></td>
						</tr>
						<tr>
							<td>コンピューター</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{computer}" /></td>
						</tr>
						<tr>
							<td>忍び歩き</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{sneak}" /></td>
						</tr>
						<tr>
							<td>写真術</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{photography}" /></td>
						</tr>
						<tr>
							<td>重機械操作</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{operateHvyMachine}" /></td>
						</tr>
						<tr>
							<td>乗馬</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{ride}" /></td>
						</tr>
						<tr>
							<td>信用</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{creditRating}" /></td>
						</tr>
						<tr>
							<td>心理学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{psychology}" /></td>
						</tr>
						<tr>
							<td>人類学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{anthropology}" /></td>
						</tr>
						<tr>
							<td>水泳</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{swim}" /></td>
						</tr>
						<tr>
							<td>制作1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{production1}" /></td>
						</tr>
						<tr>
							<td>制作2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{production2}" /></td>
						</tr>
						<tr>
							<td>制作3</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{production3}" /></td>
						</tr>
						<tr>
							<td>精神分析</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{psychoanalysis}" /></td>
						</tr>
						<tr>
							<td>生物学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{biology}" /></td>
						</tr>
					</table>
				</div>
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>説得</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{persuade}" /></td>
						</tr>
						<tr>
							<td>操縦1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{pilot1}" /></td>
						</tr>
						<tr>
							<td>操縦2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{pilot2}" /></td>
						</tr>
						<tr>
							<td>操縦3</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{pilot3}" /></td>
						</tr>
						<tr>
							<td>地質学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{geology}" /></td>
						</tr>
						<tr>
							<td>跳躍</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{jump}" /></td>
						</tr>
						<tr>
							<td>追跡</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{pursuit}" /></td>
						</tr>
						<tr>
							<td>電気修理</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{electricalRepair}" /></td>
						</tr>
						<tr>
							<td>電子工学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{electronics}" /></td>
						</tr>
						<tr>
							<td>天文学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{astronomy}" /></td>
						</tr>
						<tr>
							<td>投擲</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{throwSomething}" /></td>
						</tr>
						<tr>
							<td>登攀</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{climb}" /></td>
						</tr>
						<tr>
							<td>図書館</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{library}" /></td>
						</tr>
						<tr>
							<td>ナビゲート</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{navigate}" /></td>
						</tr>
						<tr>
							<td>値切り</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{priceCut}" /></td>
						</tr>
					</table>
				</div>
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>博物学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{naturalHistory}" /></td>
						</tr>
						<tr>
							<td>物理学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{physics}" /></td>
						</tr>
						<tr>
							<td>変装</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{disguise}" /></td>
						</tr>
						<tr>
							<td>法律</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{law}" /></td>
						</tr>
						<tr>
							<td>他の言語1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{otherLanguage1}" /></td>
						</tr>
						<tr>
							<td>他の言語2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{otherLanguage2}" /></td>
						</tr>
						<tr>
							<td>母国語</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{ownLanguage}" /></td>
						</tr>
						<tr>
							<td>ﾏｰｼｬﾙｱｰﾂ</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{martial}" /></td>
						</tr>
						<tr>
							<td>目星</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{spotHidden}" /></td>
						</tr>
						<tr>
							<td>薬学</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{pharmacy}" /></td>
						</tr>
						<tr>
							<td>歴史1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{history1}" /></td>
						</tr>
						<tr>
							<td>歴史2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{history2}" /></td>
						</tr>
					</table>
				</div>
				<div class="column">
					<table class="ui celled table">
						<tr>
							<td>サブマシンガン</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{subMachineGun}" /></td>
						</tr>
						<tr>
							<td>ショットガン</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{shotgun}" /></td>
						</tr>
						<tr>
							<td>マシンガン</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{machineGun}" /></td>
						</tr>
						<tr>
							<td>ライフル</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{rifle}" /></td>
						</tr>
						<tr>
							<td>キック</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{kick}" /></td>
						</tr>
						<tr>
							<td>組み付き</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{assembly}" /></td>
						</tr>
						<tr>
							<td>こぶし</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{first}" /></td>
						</tr>
						<tr>
							<td>頭突き</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{headButt}" /></td>
						</tr>
						<tr>
							<td>近接戦1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{handWeapon1}" /></td>
						</tr>
						<tr>
							<td>近接戦2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{handWeapon2}" /></td>
						</tr>
						<tr>
							<td>火器1</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm1}" /></td>
						</tr>
						<tr>
							<td>火器2</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm2}" /></td>
						</tr>
						<tr>
							<td>火器3</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm3}" /></td>
						</tr>
						<tr>
							<td>火器4</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm4}" /></td>
						</tr>
						<tr>
							<td>火器5</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm5}" /></td>
						</tr>
						<tr>
							<td>火器6</td>
							<td class="ui input"><input class="skillText" type="text"
								th:field="*{firearm6}" /></td>
						</tr>
					</table>
				</div>
			</div>
			<button class="ui teal button" type="submit">
				<i class="edit icon"></i>更新
			</button>
		</form>
	</div>
</body>
<!-- jQuery 読み込み -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!-- JavaScript読み込み -->
<script type="text/javascript" src="rollDice.js"></script>
<script>
/*<![CDATA[*/
		$('#int').keyup(function() {
    		$('#idea').text($('#int').val() * 5);
		});
		$('#pow').keyup(function() {
    		$('#fortune').text($('#pow').val() * 5);
    		var sanValue = $('#pow').val() * 5;
    		var maxSan = 99 - $('#cthulhuMythos').val();
    		if(sanValue > maxSan){
    			sanValue = maxSan;
    		}
    		$('#san').text(sanValue);
    		$('#sanity').text(sanValue);
    		$('#mp').text($('#pow').val());
		});
		$('#edu').keyup(function() {
    		$('#knowledge').text($('#edu').val() * 5);
		});
		$('#con, #siz').keyup(function(){
			var durabilityValue = Math.ceil((parseInt($('#con').val()) + parseInt($('#siz').val()))/2);
    		$('#durability').text(durabilityValue);
		});
	    $('#str, #siz').keyup(function(){
    		var total = parseInt($('#str').val()) + parseInt($('#siz').val());
    		var text='2 ≦ STR + SIZ ≦ 72';
    		if(total < 13){
    			text='-1D6';
    		}else if(total < 17){
    			text='-1D4';
    		}else if(total < 25){
	  			text='±0';
    		}else if(total < 33){
    			text='+1D4';
    		}else if(total < 41){
	  			text='+1D6';
	  		}else if(total < 57){
    			text='+2D6';
    		}else if(total < 73){
    		    text='+3D6'
    		}
    		$('#damageBonus').text(text);
		});
		$('#abilityRamdom').click(function() {
			$('#str').val('乱数が格納される');
		});
		/*]]>*/
</script>
</html>
